<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>이스트파워메탈:부스바, 동버스바, 분전반, 배전반, 임가공, 김포, 화성</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ✅ SEO 기본 메타태그 -->
<meta name="keywords" content="이스트파워메탈, 동버스바, 부스바, 분전반, 배전반, 수배전반, 무감전 분전반, 무감전 배전반, 무감전 변압기, 임가공, 절곡, 가공, 비철금속, 금속, 절단, 화성공장, 김포공장, 김포, 화성, 동부스바, 무감전, 누설전류 통제장치, 누설전류">
<meta name="description" content="이스트파워메탈은 부스바, 버스바, 동버스바, 분전반, 수배전반, 임가공 김포, 화성 다양한 품종과 맞춤 절단 서비스를 제공합니다.">
<meta name="author" content="이스트파워메탈">
<meta name="robots" content="index, follow">

<!-- ✅ Open Graph -->
<meta property="og:title" content="이스트파워메탈:부스바, 동버스바, 분전반, 배전반, 임가공, 김포, 화성">
<meta property="og:image" content="https://chkim-epm.github.io/EPM/factory.png">
<meta property="og:url" content="https://www.eastpowermetal.com/">
<meta property="og:type" content="website">

<!-- ✅ 폰트 -->
<link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@700&family=Nanum+Gothic&display=swap" rel="stylesheet">

<style>
  body {
    margin: 0;
    font-family: 'NanumGothic', sans-serif;
    background: #f4f4f4;
  }

  h1 {
    text-align: center;
    margin: 2rem 0;
    font-size: 2rem;
  }

  .product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 1.5rem;
    padding: 2rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  .product-card {
    background: #fff;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    text-align: center;
    transition: transform 0.3s, box-shadow 0.3s;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
  }

  .product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }

  .product-card img {
    width: 100%;
    height: 280px;
    object-fit: cover;
  }

  .product-info {
    padding: 1rem;
  }

  .product-info h2 {
    font-size: 1.2rem;
    margin: 0.5rem 0;
  }

  .product-info p {
    font-size: 0.9rem;
    color: #555;
  }

  .product-info a {
    display: inline-block;
    margin-top: 0.5rem;
    padding: 0.4rem 0.8rem;
    background-color: #3498db;
    color: #fff;
    text-decoration: none;
    border-radius: 4px;
    transition: background-color 0.3s;
  }

  .product-info a:hover {
    background-color: #2980b9;
  }

  /* 표 스타일 */
  .product-table {
    margin-top: 1rem;
    text-align: left;
  }

  .product-table table {
    width: 100%;
    border-collapse: collapse;
  }

  .product-table th, .product-table td {
    padding: 0.4rem 0.6rem;
    border-bottom: 1px solid #ddd;
  }

  .product-table th {
    background-color: #f9f9f9;
    font-weight: bold;
  }

  .product-table td {
    color: #555;
  }

  /* 네비게이션 */
  nav { background:#212529; color:#fff; padding:2rem; display:flex; justify-content:center; }
  nav .nav-item { margin:0 1rem; font-size:1.4rem; font-weight:bold; }
  nav .nav-item a { color:#fff; text-decoration:none; font-weight:bold; }
  nav .nav-item a:hover { color:#27ae60; }
  nav.nav-item span { cursor:default; color:#fff; }

  .nav-logo {
    position:absolute; left:2rem; top:1.5rem; display:flex; align-items:center; font-size:2rem; font-weight:bold;
  }

  .logo-e { color: green; }
  .logo-p { color: red; }
  .logo-m { color: blue; }
</style>
</head>

<body>

<!-- 네비게이션 바 -->
<nav>
  <div class="nav-logo">
    <span class="logo-e">E</span><span class="logo-p">P</span><span class="logo-m">M</span> (주)이스트파워메탈
  </div>
  <div class="nav-item"><a href="index.html">HOME</a></div>
  <div class="nav-item"><a href="Product.html">부스바</a></div>
  <div class="nav-item"><a href="index.html">제품목록</a></div>
  <div class="nav-item"><a href="index.html">무감전</a></div>
  <div class="nav-item"><a href="index.html">연락처</a></div>
  <div class="nav-item"><a href="map.html">오시는 길</a></div>
</nav>

<h1>제품 목록</h1>

<div class="product-grid" id="productGrid">
  <p style="text-align:center;">📦 상품 데이터를 불러오는 중입니다...</p>
</div>

<!-- 푸터 -->
<footer style="background:#212529; color:#fff; text-align:center; padding:1rem; font-size:0.9rem;">
  <p>(주)이스트파워메탈 | 주소: 경기도 김포시 통진읍 율마로 223번길 42 | 전화: 031-985-6037 | 이메일: chkim.epm@gmail.com</p>
  <p>© 2025 EAST POWER METAL. All Rights Reserved.</p>
</footer>

<!-- ✅ 상품 자동 로드 스크립트 -->
<script>
async function loadProducts() {
  const repo = "chkim-epm/EPM"; // ✅ 본인 저장소로 변경하지 않아도 됨
  const apiUrl = `https://api.github.com/repos/${repo}/contents/products`;

  try {
    const res = await fetch(apiUrl);
    if (!res.ok) throw new Error("상품 데이터를 불러올 수 없습니다.");
    const files = await res.json();

    let html = "";
    for (const file of files) {
      if (!file.name.endsWith(".md")) continue;
      const content = await (await fetch(file.download_url)).text();

      const title = content.match(/title:\s*(.*)/)?.[1]?.trim() || "상품명 없음";
      const price = content.match(/price:\s*(.*)/)?.[1]?.trim() || "가격 미상";
      const desc = content.match(/description:\s*(.*)/)?.[1]?.trim() || "";
      const image = content.match(/image:\s*(.*)/)?.[1]?.trim() || "image/default.webp";

      html += `
        <div class="product-card">
          <img src="${image}" alt="${title}">
          <div class="product-info">
            <h2>${title}</h2>
            <p>${desc}</p>
            <div class="product-table">
              <table>
                <tbody>
                  <tr><th>가격</th><td>${price}원</td></tr>
                  <tr><th>설명</th><td>${desc}</td></tr>
                </tbody>
              </table>
            </div>
            <a href="#">자세히 보기</a>
          </div>
        </div>
      `;
    }

    document.getElementById("productGrid").innerHTML = html || "<p style='text-align:center;'>등록된 상품이 없습니다.</p>";
  } catch (error) {
    document.getElementById("productGrid").innerHTML = "<p style='text-align:center; color:red;'>⚠️ 상품을 불러오는 중 오류가 발생했습니다.</p>";
    console.error(error);
  }
}

loadProducts();
</script>

</body>
</html>
